{"version":3,"file":"index.min.js","sources":["../src/utils.js","../src/TippyGroup.js","../src/Tippy.js"],"sourcesContent":["export function getNativeTippyProps(props) {\n  // eslint-disable-next-line no-unused-vars\n  const { children, onCreate, isVisible, isEnabled, ...nativeProps } = props\n  return nativeProps\n}\n\nexport function hasOwnProperty(obj, key) {\n  return {}.hasOwnProperty.call(obj, key)\n}\n\nexport function preserveRef(ref, node) {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node)\n    }\n    if (hasOwnProperty(ref, 'current')) {\n      ref.current = node\n    }\n  }\n}\n\nexport function ssrSafeCreateDiv() {\n  return typeof document !== 'undefined' && document.createElement('div')\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport tippy from 'tippy.js'\n\nexport default function TippyGroup({ children, ...props }) {\n  const instances = React.useRef([])\n\n  React.useEffect(() => {\n    tippy.group(instances.current, props)\n    return () => {\n      instances.current = null\n    }\n  }, [])\n\n  return React.Children.map(children, child => {\n    return React.cloneElement(child, {\n      onCreate: instance => {\n        if (child.props.onCreate) {\n          child.props.onCreate(instance)\n        }\n        instances.current.push(instance)\n      },\n    })\n  })\n}\n\nTippyGroup.propTypes = {\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport tippy from 'tippy.js'\nimport {\n  getNativeTippyProps,\n  hasOwnProperty,\n  ssrSafeCreateDiv,\n  preserveRef,\n} from './utils'\n\nimport TippyGroup from './TippyGroup'\n\nfunction Tippy(props) {\n  const [isMounted, setIsMounted] = React.useState(false)\n  const container = React.useRef(ssrSafeCreateDiv())\n  const reference = React.useRef()\n  const instance = React.useRef()\n\n  const options = {\n    ...getNativeTippyProps(props),\n    content: container.current,\n  }\n\n  if (hasOwnProperty(props, 'isVisible')) {\n    options.trigger = 'manual'\n  }\n\n  React.useEffect(() => {\n    instance.current = tippy(reference.current, options)\n\n    const { onCreate, isEnabled, isVisible } = props\n\n    if (onCreate) {\n      onCreate(instance.current)\n    }\n\n    if (isEnabled === false) {\n      instance.current.disable()\n    }\n\n    if (isVisible === true) {\n      instance.current.show()\n    }\n\n    setIsMounted(true)\n\n    return () => {\n      instance.current.destroy()\n      instance.current = null\n    }\n  }, [])\n\n  React.useEffect(() => {\n    if (!isMounted) {\n      return\n    }\n\n    instance.current.set(options)\n\n    const { isEnabled, isVisible } = props\n\n    if (isEnabled === true) {\n      instance.current.enable()\n    }\n    if (isEnabled === false) {\n      instance.current.disable()\n    }\n\n    if (isVisible === true) {\n      instance.current.show()\n    }\n    if (isVisible === false) {\n      instance.current.hide()\n    }\n  })\n\n  return (\n    <>\n      {React.cloneElement(props.children, {\n        ref: node => {\n          reference.current = node\n          preserveRef(props.children.ref, node)\n        },\n      })}\n      {isMounted && ReactDOM.createPortal(props.content, container.current)}\n    </>\n  )\n}\n\nTippy.propTypes = {\n  content: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n    .isRequired,\n  children: PropTypes.element.isRequired,\n  onCreate: PropTypes.func,\n  isVisible: PropTypes.bool,\n  isEnabled: PropTypes.bool,\n}\n\nTippy.defaultProps = {\n  ignoreAttributes: true,\n}\n\nexport default React.forwardRef(function TippyWrapper(props, ref) {\n  return (\n    <Tippy {...props}>\n      {React.cloneElement(props.children, {\n        ref: node => {\n          preserveRef(ref, node)\n          preserveRef(props.children.ref, node)\n        },\n      })}\n    </Tippy>\n  )\n})\n\nexport { TippyGroup }\n"],"names":["hasOwnProperty","obj","key","call","preserveRef","ref","node","current","TippyGroup","children","props","instances","React","useRef","useEffect","tippy","group","Children","map","child","cloneElement","onCreate","instance","push","Tippy","useState","isMounted","setIsMounted","container","document","createElement","reference","options","isVisible","isEnabled","getNativeTippyProps","content","trigger","disable","show","destroy","set","enable","hide","ReactDOM","createPortal","propTypes","PropTypes","arrayOf","element","isRequired","oneOfType","string","func","bool","defaultProps","ignoreAttributes","forwardRef"],"mappings":"qbAMO,SAASA,EAAeC,EAAKC,SAC3B,GAAGF,eAAeG,KAAKF,EAAKC,GAG9B,SAASE,EAAYC,EAAKC,GAC3BD,IACiB,mBAARA,GACTA,EAAIC,GAEFN,EAAeK,EAAK,aACtBA,EAAIE,QAAUD,ICZL,SAASE,SAAaC,IAAAA,SAAaC,oBAC1CC,EAAYC,EAAMC,OAAO,WAE/BD,EAAME,UAAU,kBACdC,EAAMC,MAAML,EAAUJ,QAASG,GACxB,WACLC,EAAUJ,QAAU,OAErB,IAEIK,EAAMK,SAASC,IAAIT,EAAU,SAAAU,UAC3BP,EAAMQ,aAAaD,EAAO,CAC/BE,SAAU,SAAAC,GACJH,EAAMT,MAAMW,UACdF,EAAMT,MAAMW,SAASC,GAEvBX,EAAUJ,QAAQgB,KAAKD,QCP/B,SAASE,EAAMd,SACqBE,EAAMa,UAAS,GAA1CC,OAAWC,OACZC,EAAYhB,EAAMC,OFOG,oBAAbgB,UAA4BA,SAASC,cAAc,QEN3DC,EAAYnB,EAAMC,SAClBS,EAAWV,EAAMC,SAEjBmB,OFnBD,SAA6BtB,UAEmCA,EAA7DD,SAA6DC,EAAnDW,SAAmDX,EAAzCuB,UAAyCvB,EAA9BwB,YAA8BxB,mDEkBhEyB,CAAoBzB,IACvB0B,QAASR,EAAUrB,iBAGjBP,EAAeU,EAAO,eACxBsB,EAAQK,QAAU,UAGpBzB,EAAME,UAAU,WACdQ,EAASf,QAAUQ,EAAMgB,EAAUxB,QAASyB,OAEpCX,EAAmCX,EAAnCW,SAAUa,EAAyBxB,EAAzBwB,UAAWD,EAAcvB,EAAduB,iBAEzBZ,GACFA,EAASC,EAASf,UAGF,IAAd2B,GACFZ,EAASf,QAAQ+B,WAGD,IAAdL,GACFX,EAASf,QAAQgC,OAGnBZ,GAAa,GAEN,WACLL,EAASf,QAAQiC,UACjBlB,EAASf,QAAU,OAEpB,IAEHK,EAAME,UAAU,cACTY,GAILJ,EAASf,QAAQkC,IAAIT,OAEbE,EAAyBxB,EAAzBwB,UAAWD,EAAcvB,EAAduB,WAED,IAAdC,GACFZ,EAASf,QAAQmC,UAED,IAAdR,GACFZ,EAASf,QAAQ+B,WAGD,IAAdL,GACFX,EAASf,QAAQgC,QAED,IAAdN,GACFX,EAASf,QAAQoC,UAKnB/B,gCACGA,EAAMQ,aAAaV,EAAMD,SAAU,CAClCJ,IAAK,SAAAC,GACHyB,EAAUxB,QAAUD,EACpBF,EAAYM,EAAMD,SAASJ,IAAKC,MAGnCoB,GAAakB,EAASC,aAAanC,EAAM0B,QAASR,EAAUrB,UD3DnEC,EAAWsC,UAAY,CACrBrC,SAAUsC,EAAUC,QAAQD,EAAUE,SAASC,YC+DjD1B,EAAMsB,UAAY,CAChBV,QAASW,EAAUI,UAAU,CAACJ,EAAUK,OAAQL,EAAUE,UACvDC,WACHzC,SAAUsC,EAAUE,QAAQC,WAC5B7B,SAAU0B,EAAUM,KACpBpB,UAAWc,EAAUO,KACrBpB,UAAWa,EAAUO,MAGvB9B,EAAM+B,aAAe,CACnBC,kBAAkB,kBAGL5C,EAAM6C,WAAW,SAAsB/C,EAAOL,UAEzDO,gBAACY,EAAUd,EACRE,EAAMQ,aAAaV,EAAMD,SAAU,CAClCJ,IAAK,SAAAC,GACHF,EAAYC,EAAKC,GACjBF,EAAYM,EAAMD,SAASJ,IAAKC"}